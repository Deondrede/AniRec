{"ast":null,"code":"var _jsxFileName = \"/home/jason/AniRec/test/anirec/src/pages/content_pages/show_page.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, Fragment, useEffect } from \"react\";\nimport { Container, Row, Col, Button, ButtonGroup } from \"react-bootstrap\";\nimport TopSpace from \"../../components/global_elements/TopSpacer.js\";\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory, useParams } from \"react-router-dom\";\nimport { AnimeInfo, Rating, Recommendations } from \"../../components/animepages.component.js\";\nimport { gql, useQuery } from '@apollo/client';\nimport \"./show_page.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AnimePage(props) {\n  _s();\n\n  const params = useParams();\n  const ANIME_QUERY = gql`\n    query AnimeQuery($id: Int)\n    {\n        series: Media(type: ANIME, id: $id) {\n        id\n        title {\n          english\n          romaji\n        }\n        genres\n        description(asHtml: false)\n        coverImage {\n          medium\n          large\n          extraLarge\n        }\n        studios {\n          nodes {\n            name\n          }\n        }\n        episodes\n        season\n        seasonYear\n        averageScore\n      }\n    }\n    `;\n  const {\n    error,\n    loading,\n    data,\n    refetch\n  } = useQuery(ANIME_QUERY, {\n    variables: {\n      id: params.animeId\n    }\n  });\n  useEffect(() => {\n    refetch();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading1...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error1 :(\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 23\n  }, this);\n  let animeData = {\n    name: data.series.title.english == null ? data.series.title.romaji : data.series.title.english,\n    image: data.series.coverImage.large,\n    genre: data.series.genres,\n    studio: data.series.studios,\n    description: data.series.description,\n    episodes: data.series.episodes,\n    season: data.series.season,\n    seasonYear: data.series.seasonYear,\n    rating: data.series.averageScore\n  };\n  let genreCount = animeData.genre.length;\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopSpace, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        id: \"back-btn-space\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/Anime`,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"back_btn\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 62\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"show-page-title\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: animeData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 64\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"show-page-genres\",\n              children: animeData.genre.map(genres => {\n                if (genreCount < 2) return /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"show-page-genre-links\",\n                  to: {\n                    pathname: `/GenresShowMore/${genres}/1`\n                  },\n                  children: genres\n                }, genres, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 56\n                }, this);else genreCount--;\n                return /*#__PURE__*/_jsxDEV(Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    className: \"show-page-genre-links\",\n                    to: {\n                      pathname: `/GenresShowMore/${genres}/1`\n                    },\n                    children: genres\n                  }, genres, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: \", \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 61\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 57\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            id: \"show-page-left-side\",\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"show-page-img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: animeData.image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Overall Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: animeData.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                vertical: true,\n                id: \"show-page-button-group\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  id: \"tab-name\",\n                  to: `/AnimePage/${params.animeId}/information`,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    id: \"side-btns\",\n                    children: \"Information\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  id: \"tab-name\",\n                  to: `/AnimePage/${params.animeId}/recommendations`,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    id: \"side-btns\",\n                    children: \"Recommendations\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            id: \"show-page-right-side-outer\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              id: \"show-page-right-side-inner\",\n              children: /*#__PURE__*/_jsxDEV(Switch, {\n                children: [/*#__PURE__*/_jsxDEV(Route, {\n                  path: \"/AnimePage/:animeid/ratings\",\n                  component: Rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  path: \"/AnimePage/:animeid/information\",\n                  component: () => /*#__PURE__*/_jsxDEV(AnimeInfo, {\n                    name: animeData.name,\n                    summary: animeData.description,\n                    season: animeData.season,\n                    seasonYear: animeData.seasonYear,\n                    episodes: animeData.episodes,\n                    studio: animeData.studio\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 107\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  path: \"/AnimePage/:animeid/recommendations\",\n                  component: () => /*#__PURE__*/_jsxDEV(Recommendations, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 112\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 13\n  }, this);\n}\n\n_s(AnimePage, \"6PCuUJ6T7BSFEhy3M5zME6se+QQ=\", false, function () {\n  return [useParams, useQuery];\n});\n\n_c = AnimePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnimePage\");","map":{"version":3,"sources":["/home/jason/AniRec/test/anirec/src/pages/content_pages/show_page.js"],"names":["React","Component","Fragment","useEffect","Container","Row","Col","Button","ButtonGroup","TopSpace","BrowserRouter","Router","Switch","Route","Link","useHistory","useParams","AnimeInfo","Rating","Recommendations","gql","useQuery","AnimePage","props","params","ANIME_QUERY","error","loading","data","refetch","variables","id","animeId","animeData","name","series","title","english","romaji","image","coverImage","large","genre","genres","studio","studios","description","episodes","season","seasonYear","rating","averageScore","genreCount","length","map","pathname"],"mappings":"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","sourcesContent":["import React, { Component, Fragment, useEffect } from \"react\";\nimport { Container, Row, Col, Button, ButtonGroup } from \"react-bootstrap\";\nimport TopSpace from \"../../components/global_elements/TopSpacer.js\";\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory, useParams  } from \"react-router-dom\";\nimport { AnimeInfo, Rating, Recommendations} from \"../../components/animepages.component.js\";\n\nimport {gql, useQuery} from '@apollo/client';\nimport \"./show_page.css\"\n\nexport default function AnimePage(props) {\n    const params = useParams();\n    const ANIME_QUERY = gql`\n    query AnimeQuery($id: Int)\n    {\n        series: Media(type: ANIME, id: $id) {\n        id\n        title {\n          english\n          romaji\n        }\n        genres\n        description(asHtml: false)\n        coverImage {\n          medium\n          large\n          extraLarge\n        }\n        studios {\n          nodes {\n            name\n          }\n        }\n        episodes\n        season\n        seasonYear\n        averageScore\n      }\n    }\n    `\n\n    const {error, loading, data, refetch} = useQuery(ANIME_QUERY,\n        {\n            variables:{\n                id: params.animeId\n            }\n        });\n\n    useEffect(()=>{\n        refetch()\n    }, []\n    );\n\n    \n    if (loading) return <p>Loading1...</p>\n    if (error) return <p>Error1 :(</p>\n\n    \n    let animeData = {\n        name: (data.series.title.english==null)\n            ? data.series.title.romaji :\n            data.series.title.english,\n        image: data.series.coverImage.large,\n        genre: data.series.genres,\n        studio: data.series.studios,\n        description: data.series.description,\n        episodes: data.series.episodes,\n        season: data.series.season,\n        seasonYear: data.series.seasonYear,\n        rating: data.series.averageScore\n    }\n\n    let genreCount = animeData.genre.length\n\n        return(\n            <Fragment>\n                <TopSpace/>\n                    <Container>\n                        <Row id=\"back-btn-space\">\n                            <Link to={`/Anime`}>\n                                <Button className=\"back_btn\"><strong>Home</strong></Button>\n                            </Link>\n                        </Row>\n                        <Row>\n                            <Col>                            \n                            <Row>\n                                <p className=\"show-page-title\"><strong>{animeData.name}</strong></p>\n                            </Row>\n                            <Row>\n                                <div className=\"show-page-genres\">\n                                    {animeData.genre.map((genres) =>\n                                        {\n                                            if (genreCount < 2)\n                                                return <Link key={genres} className=\"show-page-genre-links\" to={{\n                                                            pathname:`/GenresShowMore/${genres}/1`\n                                                        }}>{genres}</Link>\n                                            else \n                                                genreCount--;\n                                                return  <Fragment>\n                                                            <Link key={genres} className=\"show-page-genre-links\" to={{\n                                                                pathname:`/GenresShowMore/${genres}/1`\n                                                                }}>{genres}\n                                                            </Link>\n                                                            <a>, </a>\n                                                        </Fragment>\n                                            }\n                                    )}\n                                </div>\n                            </Row>\n                            </Col>\n\n                        </Row>\n                        <Router>\n                            <Row>\n                                <Col id=\"show-page-left-side\">\n                                    <Row>\n                                        <div className=\"show-page-img\">\n                                            <img  src={animeData.image}/>\n                                        </div>\n                                    </Row>\n                                    <Row>\n                                        <p>Overall Rating</p>\n                                        <br></br>\n                                        <p>{animeData.rating}</p>\n                                        <ButtonGroup vertical id=\"show-page-button-group\">\n                                            <Link id=\"tab-name\" to={`/AnimePage/${params.animeId}/information`}>\n                                                <Button id=\"side-btns\">\n                                                    Information\n                                                </Button>\n                                            </Link>\n\n\n                                            {/* <Link id=\"tab-name\" to={`/AnimePage/${params.animeId}/key-staff`}>\n                                                <Button id=\"side-btns\">\n                                                    Key Staff\n                                                </Button>\n                                            </Link> */}\n                                            {/* <Link id=\"tab-name\" to={`/Anime/${params.animeId}/reviews`}>\n                                                <Button id=\"side-btns\">\n                                                    Reviews\n                                                </Button>\n                                            </Link> */}\n                                            <Link id=\"tab-name\" to={`/AnimePage/${params.animeId}/recommendations`}>\n                                                <Button id=\"side-btns\">\n                                                    Recommendations\n                                                </Button>\n                                            </Link>\n                                        </ButtonGroup>\n                                    </Row>\n                                </Col>\n                                <Col id=\"show-page-right-side-outer\">\n                                    <Row id=\"show-page-right-side-inner\">\n                                        <Switch>\n                                            <Route path=\"/AnimePage/:animeid/ratings\" component={Rating} />\n                                            <Route path=\"/AnimePage/:animeid/information\" component={() =><AnimeInfo name = {animeData.name} \n                                                summary = {animeData.description} season = {animeData.season} seasonYear = {animeData.seasonYear}\n                                                episodes = {animeData.episodes} studio = {animeData.studio}/>} />\n                                            {/* <Route path=\"/AnimePage/:animeid/key-staff\" component={() =><KeyStaff siteurl = {animeData.siteUrl} />} /> */}\n                                            {/* <Route path=\"/AnimePage/:animeid/reviews\" component={Reviews} /> */}\n                                            <Route path=\"/AnimePage/:animeid/recommendations\" component={() => <Recommendations />} />\n                                        </Switch>\n                                    </Row>\n                                </Col>\n                            </Row>  \n                        </Router>\n              \n                    </Container>\n            </Fragment>\n        );\n    \n}"]},"metadata":{},"sourceType":"module"}